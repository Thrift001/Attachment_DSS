/* 
   SOMALIA DSS - ADRA BRANDED STYLESHEET (FULL)
   Palette: Sea Green #065C53 | Action Gold #FFC82E
*/

:root {
  --adra-green: #065C53;
  --adra-gold: #FFC82E;
  --bg-slate: #f8fafc;
  --text-dark: #1e293b;
  --text-muted: #64748b;
  --border: #e2e8f0;
}

body {
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  background: var(--bg-slate);
  color: var(--text-dark);
  overflow: hidden;
}

#container { display: flex; height: 100vh; }
#map { width: 70%; height: 100%; background: #cbd5e1; position: relative; z-index: 1; }

/* Legend Repaired: Pin to Bottom Left of Map */
.map-legend {
    position: absolute;
    bottom: 30px;
    left: 20px;
    background: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    z-index: 1000;
    font-size: 0.75rem;
    border-left: 5px solid var(--adra-green);
}

.legend-title { font-weight: 800; margin-bottom: 8px; color: var(--adra-green); text-transform: uppercase; }
.legend-color { display: inline-block; width: 12px; height: 12px; margin-right: 10px; border-radius: 2px; }
.legend-color.lowest { background: #3f007d; }
.legend-color.low { background: #2c7ef7; }
.legend-color.moderate { background: #7fff00; }
.legend-color.high { background: #ff6600; }
.legend-color.highest { background: #b30000; }

/* Dashboard Panel */
.dashboard-panel {
  width: 30%;
  background: white;
  box-shadow: -4px 0 25px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  z-index: 2;
}

.header-branding { padding: 20px; background: var(--adra-green); color: white; }
.header-branding h2 { margin: 0; font-size: 1.1rem; text-transform: uppercase; letter-spacing: 1px; border-left: 4px solid var(--adra-gold); padding-left: 12px; }

.module { padding: 15px; border-bottom: 1px solid var(--border); }
.module h3 { font-size: 0.75rem; text-transform: uppercase; color: var(--adra-green); margin-bottom: 12px; font-weight: 800; }

.button-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.btn { padding: 12px; border-radius: 6px; border: none; cursor: pointer; font-weight: bold; font-size: 0.75rem; transition: 0.3s; text-align: center; }
.btn-secondary { background: var(--adra-gold); color: var(--adra-green); }
.btn-dark { background: var(--text-dark); color: white; }
.btn:hover { transform: translateY(-1px); filter: brightness(1.1); }

.grid-metrics { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.metric { background: #f8fafc; padding: 10px; border-radius: 8px; border: 1px solid var(--border); text-align: center; }
.metric span { font-size: 0.65rem; color: var(--text-muted); font-weight: 700; text-transform: uppercase; display: block; }
.metric p { font-size: 1rem; margin: 4px 0; font-weight: 800; color: var(--adra-green); }
.metric.highlight { border-color: var(--adra-gold); background: #fffdf5; }

/* Premium Gauge Styling */
.gauge-container { display: flex; justify-content: space-around; padding: 10px 0; }
.gauge-wrapper { position: relative; width: 140px; height: 100px; }
.gauge-center-text { position: absolute; top: 60%; left: 50%; transform: translate(-50%, -50%); text-align: center; width: 100%; }
.gauge-center-text .value { font-size: 1.6rem; font-weight: 900; color: var(--adra-green); display: block; line-height: 1; }
.gauge-center-text .label { font-size: 0.65rem; font-weight: 700; color: var(--text-muted); text-transform: uppercase; }

/* Wizard Styling */
.wizard-card { background: #f1f5f9; padding: 12px; border-radius: 8px; border-top: 3px solid var(--adra-gold); }
.wizard-option-btn { 
    display: block; width: 100%; text-align: left; padding: 12px; margin-bottom: 8px; 
    border: 1px solid var(--border); border-left: 5px solid var(--adra-gold); 
    border-radius: 6px; background: white; cursor: pointer; font-size: 0.85rem; font-weight: 600; 
}
.wizard-option-btn:hover { background: var(--adra-green); color: white; }
.result-box { background: var(--adra-green); color: white; padding: 15px; border-radius: 8px; margin-top: 10px; font-size: 0.85rem; line-height: 1.5; border-bottom: 5px solid var(--adra-gold); }
.small-insight { background: #fffbeb; padding: 10px; border-radius: 6px; font-size: 0.8rem; border-left: 4px solid var(--adra-gold); margin-bottom: 15px; color: #92400e; line-height: 1.4; }

.tabs { display: flex; background: #f1f5f9; padding: 4px; border-radius: 8px; margin-bottom: 10px; }
.tab-btn { flex: 1; padding: 8px; border: none; border-radius: 6px; cursor: pointer; background: transparent; color: var(--text-muted); font-weight: bold; font-size: 0.75rem; }
.tab-btn.active { background: white; color: var(--adra-green); box-shadow: 0 2px 4px rgba(0,0,0,0.1); }

.agent-box { background: #f0fdf4; border: 1px solid #bbf7d0; padding: 12px; border-radius: 8px; font-size: 0.8rem; color: #166534; line-height: 1.4; margin-top: 10px; }
.loading { display: none; text-align: center; font-weight: bold; color: var(--adra-green); padding: 20px; }
.hidden { display: none; }
.adra-select { width: 100%; padding: 12px; border-radius: 6px; border: 1px solid var(--border); font-weight: bold; color: var(--adra-green); }

@media print {
  .dashboard-panel { width: 100% !important; height: auto !important; overflow: visible; }
  #map { height: 350px; width: 100% !important; border: 1px solid #eee; }
  .btn, .tabs, .map-legend, .adra-select, #wizard-module { display: none !important; }
  .report-section { display: block !important; }
}